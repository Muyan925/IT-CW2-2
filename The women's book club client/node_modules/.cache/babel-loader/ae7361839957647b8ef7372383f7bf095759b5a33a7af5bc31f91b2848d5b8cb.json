{"ast":null,"code":"import VueRouter from 'vue-router';\nimport ContainerPage from '@/pages/ContainerPage';\nimport LoginPage from '@/pages/LoginPage';\nimport RegisterPage from '@/pages/RegisterPage';\nimport IndexPage from '@/pages/IndexPage';\nimport NoteManage from '@/pages/NoteManage';\nimport PlanManage from '@/pages/PlanManage';\nimport StudyProgress from '@/pages/StudyProgress';\nimport ManagePage from '@/pages/ManagePage';\nimport UserPage from '@/pages/UserPage';\nimport UserInfo from '@/pages/UserInfo';\nimport NoteTypes from '@/pages/NoteTypes';\nimport page404 from '@/pages/page404';\nconst router = new VueRouter({\n  routes: [{\n    name: '',\n    path: '/',\n    component: ContainerPage,\n    children: [{\n      path: 'manage',\n      component: ManagePage,\n      children: [{\n        path: 'index',\n        component: IndexPage\n      }, {\n        path: 'note',\n        component: NoteManage\n      }, {\n        path: 'plan',\n        component: PlanManage\n      }, {\n        path: 'study',\n        component: StudyProgress\n      }]\n    }, {\n      path: 'account',\n      component: UserPage,\n      children: [{\n        path: 'info',\n        component: UserInfo\n      }, {\n        path: 'types',\n        component: NoteTypes\n      }]\n    }]\n  }, {\n    path: '/login',\n    component: LoginPage\n  }, {\n    path: '/register',\n    component: RegisterPage\n  }, {\n    path: '*',\n    component: page404\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  // console.log(to);\n  if (to.path.startsWith('/manage') || to.path.startsWith('/account')) {\n    if (sessionStorage.getItem('userId')) {\n      next();\n    } else {\n      next('/login');\n    }\n  } else if (to.path === '/') {\n    if (sessionStorage.getItem('userId')) {\n      next('/manage/index');\n    } else {\n      next('/login');\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["VueRouter","ContainerPage","LoginPage","RegisterPage","IndexPage","NoteManage","PlanManage","StudyProgress","ManagePage","UserPage","UserInfo","NoteTypes","page404","router","routes","name","path","component","children","beforeEach","to","from","next","startsWith","sessionStorage","getItem"],"sources":["/Users/sxm/Desktop/easy study/easy_study_client/src/router/index.js"],"sourcesContent":["import VueRouter from 'vue-router'\n\nimport ContainerPage from '@/pages/ContainerPage'\nimport LoginPage from '@/pages/LoginPage'\nimport RegisterPage from '@/pages/RegisterPage'\nimport IndexPage from '@/pages/IndexPage'\nimport NoteManage from '@/pages/NoteManage'\nimport PlanManage from '@/pages/PlanManage'\nimport StudyProgress from '@/pages/StudyProgress'\nimport ManagePage from '@/pages/ManagePage'\nimport UserPage from '@/pages/UserPage'\nimport UserInfo from '@/pages/UserInfo'\nimport NoteTypes from '@/pages/NoteTypes'\nimport page404 from '@/pages/page404'\n\nconst router =  new VueRouter({\n    routes: [\n        {\n            name: '',\n            path: '/',\n            component: ContainerPage,\n            children: [\n                {\n                    path: 'manage',\n                    component: ManagePage,\n                    children: [\n                        {\n                            path: 'index',\n                            component: IndexPage\n                        },\n                        {\n                            path: 'note',\n                            component: NoteManage\n                        },\n                        {\n                            path: 'plan',\n                            component: PlanManage\n                        },\n                        {\n                            path: 'study',\n                            component: StudyProgress\n                        }\n                    ]\n                },\n                {\n                    path: 'account',\n                    component: UserPage,\n                    children: [\n                        {\n                            path: 'info',\n                            component: UserInfo\n                        },\n                        {\n                            path: 'types',\n                            component: NoteTypes\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            path: '/login',\n            component: LoginPage\n        },\n        {\n            path: '/register',\n            component: RegisterPage\n        },\n        {\n            path: '*',\n            component: page404\n        }\n    ]\n})\n\nrouter.beforeEach((to, from, next) => {\n    // console.log(to);\n    if (to.path.startsWith('/manage') || to.path.startsWith('/account')) {\n        if (sessionStorage.getItem('userId')) {\n            next()\n        } else {\n            next('/login')\n        }\n    } else if (to.path === '/') {\n        if (sessionStorage.getItem('userId')) {\n            next('/manage/index')\n        } else {\n            next('/login')\n        }\n    } else {\n        next()\n    }\n})\n\nexport default router"],"mappings":"AAAA,OAAOA,SAAS,MAAM,YAAY;AAElC,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,OAAO,MAAM,iBAAiB;AAErC,MAAMC,MAAM,GAAI,IAAIb,SAAS,CAAC;EAC1Bc,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEhB,aAAa;IACxBiB,QAAQ,EAAE,CACN;MACIF,IAAI,EAAE,QAAQ;MACdC,SAAS,EAAET,UAAU;MACrBU,QAAQ,EAAE,CACN;QACIF,IAAI,EAAE,OAAO;QACbC,SAAS,EAAEb;MACf,CAAC,EACD;QACIY,IAAI,EAAE,MAAM;QACZC,SAAS,EAAEZ;MACf,CAAC,EACD;QACIW,IAAI,EAAE,MAAM;QACZC,SAAS,EAAEX;MACf,CAAC,EACD;QACIU,IAAI,EAAE,OAAO;QACbC,SAAS,EAAEV;MACf,CAAC;IAET,CAAC,EACD;MACIS,IAAI,EAAE,SAAS;MACfC,SAAS,EAAER,QAAQ;MACnBS,QAAQ,EAAE,CACN;QACIF,IAAI,EAAE,MAAM;QACZC,SAAS,EAAEP;MACf,CAAC,EACD;QACIM,IAAI,EAAE,OAAO;QACbC,SAAS,EAAEN;MACf,CAAC;IAET,CAAC;EAET,CAAC,EACD;IACIK,IAAI,EAAE,QAAQ;IACdC,SAAS,EAAEf;EACf,CAAC,EACD;IACIc,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAEd;EACf,CAAC,EACD;IACIa,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEL;EACf,CAAC;AAET,CAAC,CAAC;AAEFC,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC;EACA,IAAIF,EAAE,CAACJ,IAAI,CAACO,UAAU,CAAC,SAAS,CAAC,IAAIH,EAAE,CAACJ,IAAI,CAACO,UAAU,CAAC,UAAU,CAAC,EAAE;IACjE,IAAIC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAE;MAClCH,IAAI,EAAE;IACV,CAAC,MAAM;MACHA,IAAI,CAAC,QAAQ,CAAC;IAClB;EACJ,CAAC,MAAM,IAAIF,EAAE,CAACJ,IAAI,KAAK,GAAG,EAAE;IACxB,IAAIQ,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAE;MAClCH,IAAI,CAAC,eAAe,CAAC;IACzB,CAAC,MAAM;MACHA,IAAI,CAAC,QAAQ,CAAC;IAClB;EACJ,CAAC,MAAM;IACHA,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAEF,eAAeT,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}