{"ast":null,"code":"export default {\n  name: 'IndexPage',\n  data() {\n    return {\n      infos: {\n        noteNumber: 0,\n        planNumber: 0\n      },\n      notes: [],\n      todos: []\n    };\n  },\n  computed: {\n    uid() {\n      return this.$store.getters['getUserId'];\n    },\n    username() {\n      return this.$store.getters['getUsername'];\n    }\n  },\n  methods: {\n    getDate() {\n      var date = new Date();\n      var year = date.getFullYear(); //  返回的是年份\n      var month = date.getMonth() + 1; //  返回的月份上个月的月份，记得+1才是当月\n      var dates = date.getDate();\n      if (month < 10) month = \"0\" + month;\n      if (date < 10) date = \"0\" + date;\n      return year + \"/\" + month + \"/\" + dates;\n    },\n    getPlanAndNoteNumber() {\n      this.$axios.get(`/user/ShowCountAtHomePageByUid/${this.uid}`).then(response => {\n        // console.log(response.data);\n        if (response.data.flag) {\n          this.infos.noteNumber = response.data.data.uploadNotesNum;\n          this.infos.planNumber = response.data.data.createdPlansNum;\n        } else {\n          this.$message.error(response.data.msg);\n        }\n      });\n    },\n    getNotesList() {\n      this.$axios.get(`/user/ShowNotesAtHomePageByUid/${this.uid}`).then(response => {\n        // console.log(response.data);\n        if (response.data.flag) {\n          this.notes = response.data.data;\n        } else {\n          this.$message.error(response.data.msg);\n        }\n      });\n    },\n    getTodos() {\n      this.$axios.get(`/user/ShowUnfinishedPlansAtHomePageByUid/${this.uid}`).then(response => {\n        console.log(response.data);\n        if (response.data.flag) {\n          this.todos = response.data.data;\n        } else {\n          this.$message.error(response.data.msg);\n        }\n      });\n    }\n  },\n  created() {\n    this.getPlanAndNoteNumber();\n    this.getNotesList();\n    this.getTodos();\n  }\n};","map":{"version":3,"mappings":"AA+DA;EACAA;EACAC;IACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACAC;QACA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;AACA","names":["name","data","infos","noteNumber","planNumber","notes","todos","computed","uid","username","methods","getDate","getPlanAndNoteNumber","getNotesList","getTodos","console","created"],"sourceRoot":"src/pages","sources":["IndexPage.vue"],"sourcesContent":["<template>\n  <div class=\"index\">\n    <div class=\"username\">你好, {{ username }}</div>\n    <div class=\"content\">\n        <div class=\"left\">\n            <ul class=\"msgs\">\n                <li>你已经上传了{{infos.noteNumber}}个笔记</li>\n                <li>你已经创建了{{infos.planNumber}}个学习计划</li>\n            </ul>\n            <div class=\"notes\">\n                <div class=\"title\">\n                    <span>笔记列表</span>\n                    <span>请在笔记管理页面详细操作</span>\n                </div>\n                <el-table\n                    :data=\"notes\"\n                    height=\"500\"\n                    border\n                    style=\"width: 100%\">\n                    <el-table-column\n                    type=\"index\"\n                    label=\"序号\"\n                    width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                    prop=\"noteName\"\n                    label=\"名称\">\n                    </el-table-column>\n                    <el-table-column\n                    prop=\"typeName\"\n                    label=\"类型\"\n                    width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                    prop=\"notePress\"\n                    label=\"重要度\"\n                    width=\"100\">\n                    </el-table-column>\n                </el-table>\n            </div>\n        </div>\n        <div class=\"right\">\n            <div class=\"todo\">\n                <div class=\"title\">\n                    <span>今日代办</span><span class=\"date\">{{ getDate() }}</span>\n                </div>\n                <!-- <ul class=\"todo-list\">\n                    <li v-for=\"(item ,index) in todos\" :key=\"index\">\n                        <span>{{index}}</span><span>{{ item.planName }}</span><span>{{ item.planInfo }}</span>\n                    </li>\n                </ul> -->\n                <el-table border>\n\n                </el-table>\n            </div>\n            <div class=\"pic\">\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"js\">\nexport default {\n    name: 'IndexPage',\n    data() {\n        return {\n            infos: {\n                noteNumber: 0,\n                planNumber: 0\n            },\n            notes: [],\n            todos: []\n        }\n    },\n    computed: {\n        uid() {\n            return this.$store.getters['getUserId']\n        },\n        username() {\n            return this.$store.getters['getUsername']\n        }\n    },\n    methods: {\n        getDate() {\n            var date = new Date();\n            var year = date.getFullYear();    //  返回的是年份\n            var month = date.getMonth() + 1;  //  返回的月份上个月的月份，记得+1才是当月\n            var dates = date.getDate();  \n            if(month<10)month=\"0\"+month;\n            if(date<10)date=\"0\"+date;\n            return year + \"/\" + month + \"/\" + dates\n        },\n        getPlanAndNoteNumber() {\n            this.$axios.get(`/user/ShowCountAtHomePageByUid/${this.uid}`).then(response => {\n                // console.log(response.data);\n                if (response.data.flag) {\n                    this.infos.noteNumber = response.data.data.uploadNotesNum\n                    this.infos.planNumber = response.data.data.createdPlansNum\n                } else {\n                    this.$message.error(response.data.msg)\n                }\n            })\n        },\n        getNotesList() {\n            this.$axios.get(`/user/ShowNotesAtHomePageByUid/${this.uid}`).then(response => {\n                // console.log(response.data);\n                if (response.data.flag) {\n                    this.notes = response.data.data\n                } else {\n                    this.$message.error(response.data.msg)\n                }\n            })\n        },\n        getTodos() {\n            this.$axios.get(`/user/ShowUnfinishedPlansAtHomePageByUid/${this.uid}`).then(response => {\n                console.log(response.data);\n                if (response.data.flag) {\n                    this.todos = response.data.data\n                } else {\n                    this.$message.error(response.data.msg)\n                }\n            })\n        }\n    },\n    created() {\n        this.getPlanAndNoteNumber()\n        this.getNotesList()\n        this.getTodos()\n    }\n}\n</script>\n\n<style scoped>\n.index {\n    height: 100%;\n}\n.username {\n    font-size: 24px;\n    margin-bottom: 20px;\n}\n\n.content {\n    display: flex;\n    height: calc(100% - 60px);\n}\n\n.left,\n.right {\n    flex: 1;\n    min-width: 300px;\n}\n\n.left {\n    margin-right: 20px;\n}\n\n.right {\n    display: flex;\n    flex-direction: column;\n}\n\n.msgs {\n    padding: 6px 12px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    font-size: 12px;\n}\n\n.msgs li {\n    margin: 4px 0;\n}\n\n.notes {\n    padding: 12px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    margin-top: 20px;\n}\n\n.notes .title {\n    display: flex;\n    font-size: 13px;\n    margin-bottom: 10px;\n    justify-content: space-between;\n}\n\n.notes .el-table {\n    /* background-color: red; */\n}\n\n.todo {\n    height: 300px;\n    padding: 12px;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n}\n\n.todo .title {\n    display: flex;\n    justify-content: space-between;\n}\n\n.todo-list {\n    width: 100%;\n    height: 240px;\n    /* background-color: red; */\n    margin-top: 10px;\n}\n\n.todo-list li {\n    margin: 5px 0;\n    font-size: 14px;\n    color: #333;\n}\n\n.todo-list li span {\n    overflow: hidden;\n    margin-right: 15px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    /* background-color: green; */\n}\n\n.todo-list li span:nth-child(2) {\n    display: inline-block;\n    width: calc(100% - 150px);\n    /* background-color: pink; */\n    vertical-align: top;\n    margin-left: 30px;\n}\n\n.pic {\n    flex: 1;\n    background: url(../assets/images/login.png) no-repeat;\n    background-position: top center;\n    background-size: 100%;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}