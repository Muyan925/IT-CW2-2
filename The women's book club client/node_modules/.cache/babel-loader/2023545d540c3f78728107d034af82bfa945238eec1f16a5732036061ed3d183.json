{"ast":null,"code":"import VueRouter from 'vue-router';\nimport ContainerPage from '@/pages/ContainerPage';\nimport LoginPage from '@/pages/LoginPage';\nimport IndexPage from '@/pages/IndexPage';\nimport NoteManage from '@/pages/NoteManage';\nimport PlanManage from '@/pages/PlanManage';\nimport StudyProgress from '@/pages/StudyProgress';\nimport ManagePage from '@/pages/ManagePage';\nimport UserPage from '@/pages/UserPage';\nimport UserInfo from '@/pages/UserInfo';\nimport NoteTypes from '@/pages/NoteTypes';\nimport page404 from '@/pages/page404';\nimport MarkdownView from '@/pages/MarkdownView';\nconst router = new VueRouter({\n  routes: [{\n    name: '',\n    path: '/',\n    component: ContainerPage,\n    children: [{\n      path: 'manage',\n      component: ManagePage,\n      children: [{\n        path: 'index',\n        component: IndexPage\n      }, {\n        path: 'note',\n        component: NoteManage\n      }, {\n        path: 'plan',\n        component: PlanManage\n      }, {\n        path: 'study',\n        component: StudyProgress\n      }]\n    }, {\n      path: 'account',\n      component: UserPage,\n      children: [{\n        path: 'info',\n        component: UserInfo\n      }, {\n        path: 'types',\n        component: NoteTypes\n      }]\n    }]\n  }, {\n    path: '/login',\n    component: LoginPage\n  }, {\n    path: '/view',\n    name: 'View',\n    component: MarkdownView\n  }, {\n    path: '*',\n    component: page404\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  // console.log(to);\n  if (to.path.startsWith('/manage') || to.path.startsWith('/account') || to.path === '/view') {\n    if (JSON.parse(sessionStorage.getItem('userInfo'))) {\n      next();\n    } else {\n      next('/login');\n    }\n  } else if (to.path === '/') {\n    if (JSON.parse(sessionStorage.getItem('userInfo'))) {\n      next('/manage/index');\n    } else {\n      next('/login');\n    }\n  } else if (to.path === '/login') {\n    if (JSON.parse(sessionStorage.getItem('userInfo'))) {\n      next('/manage/index');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["VueRouter","ContainerPage","LoginPage","IndexPage","NoteManage","PlanManage","StudyProgress","ManagePage","UserPage","UserInfo","NoteTypes","page404","MarkdownView","router","routes","name","path","component","children","beforeEach","to","from","next","startsWith","JSON","parse","sessionStorage","getItem"],"sources":["/Users/sxm/Desktop/easy study/easy_study_client/src/router/index.js"],"sourcesContent":["import VueRouter from 'vue-router'\n\nimport ContainerPage from '@/pages/ContainerPage'\nimport LoginPage from '@/pages/LoginPage'\nimport IndexPage from '@/pages/IndexPage'\nimport NoteManage from '@/pages/NoteManage'\nimport PlanManage from '@/pages/PlanManage'\nimport StudyProgress from '@/pages/StudyProgress'\nimport ManagePage from '@/pages/ManagePage'\nimport UserPage from '@/pages/UserPage'\nimport UserInfo from '@/pages/UserInfo'\nimport NoteTypes from '@/pages/NoteTypes'\nimport page404 from '@/pages/page404'\nimport MarkdownView from '@/pages/MarkdownView'\n\nconst router =  new VueRouter({\n    routes: [\n        {\n            name: '',\n            path: '/',\n            component: ContainerPage,\n            children: [\n                {\n                    path: 'manage',\n                    component: ManagePage,\n                    children: [\n                        {\n                            path: 'index',\n                            component: IndexPage\n                        },\n                        {\n                            path: 'note',\n                            component: NoteManage\n                        },\n                        {\n                            path: 'plan',\n                            component: PlanManage\n                        },\n                        {\n                            path: 'study',\n                            component: StudyProgress\n                        }\n                    ]\n                },\n                {\n                    path: 'account',\n                    component: UserPage,\n                    children: [\n                        {\n                            path: 'info',\n                            component: UserInfo\n                        },\n                        {\n                            path: 'types',\n                            component: NoteTypes\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            path: '/login',\n            component: LoginPage\n        },\n        {\n            path: '/view',\n            name: 'View',\n            component: MarkdownView\n        },\n        {\n            path: '*',\n            component: page404\n        }\n    ]\n})\n\nrouter.beforeEach((to, from, next) => {\n    // console.log(to);\n    if (to.path.startsWith('/manage') || to.path.startsWith('/account') || to.path === '/view') {\n        if (JSON.parse(sessionStorage.getItem('userInfo'))) {\n            next()\n        } else {\n            next('/login')\n        }\n    } else if (to.path === '/') {\n        if (JSON.parse(sessionStorage.getItem('userInfo'))) {\n            next('/manage/index')\n        } else {\n            next('/login')\n        }\n    } else if (to.path === '/login') {\n        if (JSON.parse(sessionStorage.getItem('userInfo'))) {\n            next('/manage/index')\n        } else {\n            next()\n        }\n    } else {\n        next()\n    }\n})\n\nexport default router"],"mappings":"AAAA,OAAOA,SAAS,MAAM,YAAY;AAElC,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,YAAY,MAAM,sBAAsB;AAE/C,MAAMC,MAAM,GAAI,IAAIb,SAAS,CAAC;EAC1Bc,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEhB,aAAa;IACxBiB,QAAQ,EAAE,CACN;MACIF,IAAI,EAAE,QAAQ;MACdC,SAAS,EAAEV,UAAU;MACrBW,QAAQ,EAAE,CACN;QACIF,IAAI,EAAE,OAAO;QACbC,SAAS,EAAEd;MACf,CAAC,EACD;QACIa,IAAI,EAAE,MAAM;QACZC,SAAS,EAAEb;MACf,CAAC,EACD;QACIY,IAAI,EAAE,MAAM;QACZC,SAAS,EAAEZ;MACf,CAAC,EACD;QACIW,IAAI,EAAE,OAAO;QACbC,SAAS,EAAEX;MACf,CAAC;IAET,CAAC,EACD;MACIU,IAAI,EAAE,SAAS;MACfC,SAAS,EAAET,QAAQ;MACnBU,QAAQ,EAAE,CACN;QACIF,IAAI,EAAE,MAAM;QACZC,SAAS,EAAER;MACf,CAAC,EACD;QACIO,IAAI,EAAE,OAAO;QACbC,SAAS,EAAEP;MACf,CAAC;IAET,CAAC;EAET,CAAC,EACD;IACIM,IAAI,EAAE,QAAQ;IACdC,SAAS,EAAEf;EACf,CAAC,EACD;IACIc,IAAI,EAAE,OAAO;IACbD,IAAI,EAAE,MAAM;IACZE,SAAS,EAAEL;EACf,CAAC,EACD;IACII,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEN;EACf,CAAC;AAET,CAAC,CAAC;AAEFE,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC;EACA,IAAIF,EAAE,CAACJ,IAAI,CAACO,UAAU,CAAC,SAAS,CAAC,IAAIH,EAAE,CAACJ,IAAI,CAACO,UAAU,CAAC,UAAU,CAAC,IAAIH,EAAE,CAACJ,IAAI,KAAK,OAAO,EAAE;IACxF,IAAIQ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,EAAE;MAChDL,IAAI,EAAE;IACV,CAAC,MAAM;MACHA,IAAI,CAAC,QAAQ,CAAC;IAClB;EACJ,CAAC,MAAM,IAAIF,EAAE,CAACJ,IAAI,KAAK,GAAG,EAAE;IACxB,IAAIQ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,EAAE;MAChDL,IAAI,CAAC,eAAe,CAAC;IACzB,CAAC,MAAM;MACHA,IAAI,CAAC,QAAQ,CAAC;IAClB;EACJ,CAAC,MAAM,IAAIF,EAAE,CAACJ,IAAI,KAAK,QAAQ,EAAE;IAC7B,IAAIQ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,EAAE;MAChDL,IAAI,CAAC,eAAe,CAAC;IACzB,CAAC,MAAM;MACHA,IAAI,EAAE;IACV;EACJ,CAAC,MAAM;IACHA,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAEF,eAAeT,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}