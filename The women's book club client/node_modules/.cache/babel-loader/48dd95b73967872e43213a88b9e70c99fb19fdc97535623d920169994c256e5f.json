{"ast":null,"code":"export default {\n  name: \"InputBox\",\n  props: {\n    type: {\n      type: String,\n      default: \"text\"\n    },\n    label: {\n      type: String,\n      default: \"\"\n    },\n    pattern: {\n      type: String,\n      default: \"\"\n    },\n    errorText: {\n      type: String,\n      default: \"错误啦\"\n    },\n    value: {\n      type: String,\n      default: \"\"\n    },\n    required: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      isError: false,\n      isRequired: false,\n      onceFocus: false,\n      inputValue: \"\"\n    };\n  },\n  methods: {\n    check() {\n      const rgx = new RegExp(this.pattern);\n      if (this.inputValue) {\n        this.isError = !rgx.test(this.inputValue);\n        this.isRequired = false;\n      } else {\n        this.isError = false;\n        if (this.onceFocus) {\n          this.isRequired = this.required;\n        }\n      }\n      this.$emit(\"input\", this.inputValue);\n      this.$emit(\"onBlur\", this.inputValue);\n    }\n  }\n};","map":{"version":3,"mappings":"AAkBA;EACAA;EACAC;IACAC;MACAA;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;EACA;EACAM;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;MAEA;QACA;QACA;MACA;QACA;QACA;UACA;QACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["name","props","type","default","label","pattern","errorText","value","required","data","isError","isRequired","onceFocus","inputValue","methods","check"],"sourceRoot":"src/components","sources":["InputBox.vue"],"sourcesContent":["<template>\n    <div class=\"input-box\">\n      <input\n        :type=\"type\"\n        @blur=\"check\"\n        v-model=\"inputValue\"\n        @focus=\"onceFocus = true\"\n      />\n      <span class=\"highlight\"></span>\n      <span class=\"bar\"></span>\n      <label :class=\"inputValue ? 'up' : ''\">{{ label }}</label>\n      <span class=\"error\" v-show=\"isRequired && !isError\">此项为必填项</span>\n      <span class=\"error\" v-show=\"isError\">{{ errorText }}</span>\n      <i v-show=\"required\" class=\"tag\">*</i>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: \"InputBox\",\n    props: {\n      type: {\n        type: String,\n        default: \"text\",\n      },\n      label: {\n        type: String,\n        default: \"\",\n      },\n      pattern: {\n        type: String,\n        default: \"\",\n      },\n      errorText: {\n        type: String,\n        default: \"错误啦\",\n      },\n      value: {\n        type: String,\n        default: \"\",\n      },\n      required: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    data() {\n      return {\n        isError: false,\n        isRequired: false,\n        onceFocus: false,\n        inputValue: \"\",\n      };\n    },\n    methods: {\n      check() {\n        const rgx = new RegExp(this.pattern);\n  \n        if (this.inputValue) {\n          this.isError = !rgx.test(this.inputValue);\n          this.isRequired = false;\n        } else {\n          this.isError = false;\n          if (this.onceFocus) {\n            this.isRequired = this.required;\n          }\n        }\n        this.$emit(\"input\", this.inputValue);\n        this.$emit(\"onBlur\", this.inputValue)\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  /* form starting stylings ------------------------------- */\n  .input-box {\n    position: relative;\n    /* background-color: purple; */\n    width: 240px;\n    height: 70px;\n    padding-top: 20px;\n  }\n  input {\n    font-size: 18px;\n    padding: 5px 5px 5px 5px;\n    display: block;\n    width: 240px;\n    border: none;\n    border-bottom: 1px solid #757575;\n  }\n  input:focus {\n    outline: none;\n  }\n  \n  /* LABEL ======================================= */\n  label {\n    color: #999;\n    font-size: 18px;\n    font-weight: normal;\n    position: absolute;\n    pointer-events: none;\n    left: 5px;\n    top: 25px;\n    transition: 0.2s ease all;\n    -moz-transition: 0.2s ease all;\n    -webkit-transition: 0.2s ease all;\n  }\n  \n  /* active state */\n  input:focus ~ label,\n  .up {\n    top: 0px;\n    left: 0;\n    font-size: 14px;\n    color: #5264ae;\n  }\n  \n  .tag {\n      position: absolute;\n      left: -8px;\n      top: 25px;\n      color: red;\n      font-style: normal;\n  }\n  \n  /* input:invalid ~ label {\n    top:-20px;\n    font-size:14px;\n    color:#5264AE;\n  } */\n  \n  /* BOTTOM BARS ================================= */\n  .bar {\n    position: relative;\n    display: block;\n    width: 240px;\n  }\n  .bar:before,\n  .bar:after {\n    content: \"\";\n    height: 2px;\n    width: 0;\n    bottom: 1px;\n    position: absolute;\n    background: #5264ae;\n    transition: 0.2s ease all;\n    -moz-transition: 0.2s ease all;\n    -webkit-transition: 0.2s ease all;\n  }\n  .bar:before {\n    left: 50%;\n  }\n  .bar:after {\n    right: 50%;\n  }\n  \n  .error {\n    position: absolute;\n    bottom: 0;\n    font-size: 12px;\n    color: red;\n    /* background-color: blue; */\n  }\n  \n  /* active state */\n  input:focus ~ .bar:before,\n  input:focus ~ .bar:after {\n    width: 50%;\n  }\n  \n  /* HIGHLIGHTER ================================== */\n  .highlight {\n    position: absolute;\n    height: 60%;\n    width: 100px;\n    top: 25%;\n    left: 0;\n    pointer-events: none;\n    opacity: 0.5;\n  }\n  \n  /* active state */\n  input:focus ~ .highlight {\n    -webkit-animation: inputHighlighter 0.3s ease;\n    -moz-animation: inputHighlighter 0.3s ease;\n    animation: inputHighlighter 0.3s ease;\n  }\n  \n  /* ANIMATIONS ================ */\n  @-webkit-keyframes inputHighlighter {\n    from {\n      background: #5264ae;\n    }\n    to {\n      width: 0;\n      background: transparent;\n    }\n  }\n  @-moz-keyframes inputHighlighter {\n    from {\n      background: #5264ae;\n    }\n    to {\n      width: 0;\n      background: transparent;\n    }\n  }\n  @keyframes inputHighlighter {\n    from {\n      background: #5264ae;\n    }\n    to {\n      width: 0;\n      background: transparent;\n    }\n  }\n  </style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}